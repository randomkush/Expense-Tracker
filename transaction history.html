<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">

    <title>FinanceX- OnlineMoneyManagement</title>
    <meta content="" name="description">
    <meta content="" name="keywords">

    <link href="/13-14" rel="icon">
    <link href="/13-14" rel="apple-touch-icon">

    <!-- Google Fonts -->
    <link
        href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
        rel="stylesheet">

    <!-- Vendor CSS Files -->
    <link href="/20" rel="stylesheet">
    <link href="/21" rel="stylesheet">
    <link href="/22" rel="stylesheet">
    <link href="/23" rel="stylesheet">
    <link href="/24" rel="stylesheet">
    <link href="/25" rel="stylesheet">

    <!-- Template Main CSS File -->
    <link href="/28" rel="stylesheet">

    

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="index.css">

    <style>
        #tbl {
            margin: auto;
            position: absolute;
            margin-top: 50%;
            justify-content: center;
            margin-left: 0%;
        }
    </style>
</head>

<body>
    <!-- ======= Header ======= -->
    <header id="header" class="d-flex align-items-center">
        <div class="container d-flex align-items-center justify-content-between">

            <h1 class="logo"><a href="/home">FINANCEX</a></h1>
           
            <nav id="navbar" class="navbar">
                <ul>
                    <li><a class="nav-link scrollto active" href="/home">Home</a></li>
                    <li><a class="nav-link scrollto" href="/home">About</a></li>

                    <li><a class="nav-link scrollto" href="#Total" id="total"></a></li>
                    <li><a class="nav-link scrollto" href="#income" id="income"></a></li>
                    <li><a class="nav-link scrollto" href="#expense" id="expense"></a></li>
                    <li><a class="nav-link scrollto" href="/home">Contact</a></li>
                    <div class="dropdown">
                        <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton1"
                            data-bs-toggle="dropdown" aria-expanded="false">
                            Services
                        </button>
                        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                            <li><a class="dropdown-item active" href="/transactionHistory">Transaction history</a></li>
                            <li><a class="dropdown-item" href="/statistics">Statistics</a></li>
                            <li><a class="dropdown-item" href="/savings">Savings</a></li>
                            <li><a class="dropdown-item" href="/investments">Investment Options</a></li>
                        </ul>
                    </div>

                    <i class="bi bi-list mobile-nav-toggle"></i>
            </nav><!-- .navbar -->
        </div>
    </header>

    <div class="fixed-bottom " style="margin-left: 93%; margin-bottom: 2%;">
        <!-- <button type="button" class="btn btn-primary" style="border-radius: 50%; width: 70px; height: 70px;">+</button> -->
        <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#myModal"
            style="border-radius: 50%; width: 70px; height: 70px;">+</button>

    </div>

    <div class="modal fade" id="myModal">
        <div class="modal-dialog">
            <div class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title">Add Transaction</h4>
                    <button type="button" class="close" data-dismiss="modal">Ã—</button>
                </div>

                <!-- Modal body -->
                <div class="modal-body" style="margin-right: 2.5em;">
                    <form action="controllers/expense-controller" method="POST">
                        <!-- Page-1 -->
                        <div class="tab">
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <label for="date">Date</label>
                                    <input type="text" class="form-control" id="date" placeholder="Date" name="date" required>
                                </div>
                                <script>
                                    var dt = new Date();
                                    document.getElementById("date").value = dt.toLocaleDateString();
                                </script>
                                <div class="form-group col-md-6">
                                    <label for="time">Time</label>
                                    <input type="text" class="form-control" id="time" placeholder="Time" name="time" required>
                                    <script>
                                        var dt = new Date();
                                        document.getElementById("time").value = dt.toLocaleTimeString();
                                    </script>
                                </div>
                            </div>

                        </div>

                       
                        <!-- Page-2 -->
                        <div class="tab">
                            <div class="form-group">
                                <label for="expense">Amount</label>
                                <input type="number" class="form-control" id="expense" name="expense" required>
                            </div>
                            

                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <label for="MoT">Mode of Transaction</label>
                                    <select id="MoT" class="form-control" name="MoT" required>
                                        <option disabled selected>Choose...</option>
                                        <option value="PayTM">PayTM</option>
                                        <option value="Debit Card">Debit Card</option>
                                        <option value="Net Banking">Net Banking</option>
                                        <option value="GPay">GPay</option>
                                        <option value="PhonePe">PhonePe</option>
                                        <option value="BHIM">BHIM</option>
                                        <option value="Cash">Cash</option>
                                        <option value="Others">Others</option>
                                        <option id="addCat" value="Add Category" disabled>Add Category</option>
                                    </select>
                                </div>
                                

                                <div class="form-group col-md-6">
                                    <label for="cat">Category</label>
                                    <select id="cat" class="form-control" name="cat" required>
                                        <option disabled selected>Choose...</option>
                                        <option value="Food">Food</option>
                                        <option value="Health">Health</option>
                                        <option value="Essentials">Essentials</option>
                                        <option value="Transportation">Transportation</option>
                                        <option value="Education">Education</option>
                                        <option value="Household">Household</option>
                                        <option value="Others">Others</option>
                                        <option id="addCat" value="Add Category" disabled>Add Category</option>
                                    </select>
                                    
                                </div>
                            </div>
                           
                            <div class="form-group">
                                <label for="comment">Comments</label>
                                <input type="text" class="form-control" style="height: 70px;" id="comment" placeholder="Type Here" name="comment">
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button style="margin-right: -2.5em;" type="submit" class="btn btn-danger" onclick="close" >Submit</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    </div>
    <div class="container"></div>
        <table id="myTable" class="table table-stripped" style="margin-top: 10%;">
            <thead>
                <tr>
                    <th>Transaction ID</th>
                    <th>Date</th>
                    <th>Time</th>
                    <th>Ammount Spent</th>
                    <th>Category</th>
                    <th>Mode of Transaction</th>
                    <th>Comments</th>
                </tr>
            </thead>
            <tbody id="data">

            </tbody>
        </table>
    </div>

    <script>
        // Navbar Shit
        var savings = 0;
        var income = "";
        var intIncome = 0;
        fetch("/data2").then(
            res=>{
                res.json().then(
                    data=>{
                        console.log(data); 
                        if(data.length > 0) {

                            data.forEach((u)=>{
                                intIncome += u.income;
                                income += "<p>"+"<br>"+"Income:"+"<br>"+u.income+"</p>";
                                savings += u.Savings;
                            })
                            document.getElementById("income").innerHTML=income;
                        } 
                    }
                ) 
            }
        ) 
        fetch("/data1").then(
            res=>{
                res.json().then(
                    data=>{
                        console.log(data); 
                        if(data.length > 0) {
                            var temp1 = 0;
                            var temp2 = "";

                            data.forEach((u)=>{
                                temp1 += u.amount;
                            })
                            temp2 = "<p>"+"<br>"+"Expense:"+"<br>"+temp1+"</p>"
                            document.getElementById("expense").innerHTML=temp2;
                            var temp3 = intIncome - temp1 - savings;
                            var total = "<p>"+"<br>"+"Total:"+"<br>"+temp3+"</p>";
                            document.getElementById("total").innerHTML=total;
                        } 
                    }
                ) 
            }
        )
        fetch("/data").then(
            res=>{
                res.json().then(
                    data=>{
                        console.log(data); 
                        if(data.length > 0) {
                            var temp1 = 0;
                            var temp2 = "";

                            data.forEach((u)=>{
                                temp1 += u.amount;
                            })
                            temp2 = "<p>"+"<br>"+"Expense:"+"<br>"+temp1+"</p>"
                            document.getElementById("expense").innerHTML=temp2;
                            var temp3 = intIncome - temp1 - savings;
                            var total = "<p>"+"<br>"+"Total:"+"<br>"+temp3+"</p>";
                            document.getElementById("total").innerHTML=total;
                        } 
                    }
                ) 
            }
        )

        // Main Page Shit
        fetch("/data1").then(
            res=>{
                res.json().then(
                    data=>{
                        console.log(data); 
                        if(data.length > 0) {
                            var temp = "";

                            data.forEach((u)=>{
                                temp += "<tr>";
                                temp += "<td>"+"FNNCX2021"+u.transactionID+"</td>";
                                temp += "<td>"+u.Date+"</td>";
                                temp += "<td>"+u.time+"</td>";
                                temp += "<td>"+u.amount+"</td>";
                                temp += "<td>"+u.category+"</td>";
                                temp += "<td>"+u.mode_of_transaction+"</td>";
                                temp += "<td>"+u.comments+"</td>";
                            })
                            document.getElementById("data").innerHTML=temp;

                        } 
                    }
                ) 
            }
        ) 
        fetch("/data").then(
            res=>{
                res.json().then(
                    data=>{
                        console.log(data); 
                        if(data.length > 0) {
                            var temp = "";

                            data.forEach((u)=>{
                                temp += "<tr>";
                                temp += "<td>"+"FNNCX2021"+u.transactionID+"</td>";
                                temp += "<td>"+u.Date+"</td>";
                                temp += "<td>"+u.time+"</td>";
                                temp += "<td>"+u.amount+"</td>";
                                temp += "<td>"+u.category+"</td>";
                                temp += "<td>"+u.mode_of_transaction+"</td>";
                                temp += "<td>"+u.comments+"</td>";
                            })
                            document.getElementById("data").innerHTML=temp;

                        } 
                    }
                ) 
            }
        ) 
    </script>

    <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><svg xmlns="http://www.w3.org/2000/svg" width="2.5em" height="2.5em" fill="currentColor" class="bi bi-arrow-up-short" viewBox="0 0 16 16">
        <path fill-rule="evenodd" d="M8 12a.5.5 0 0 0 .5-.5V5.707l2.146 2.147a.5.5 0 0 0 .708-.708l-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 1 0 .708.708L7.5 5.707V11.5a.5.5 0 0 0 .5.5z"/>
      </svg></a>
    <div id="preloader"></div>

    <!-- <script>
        function addRow() {
            
            var date = document.getElementById("date");
            var time = document.getElementById("time");
            var amount = document.getElementById("expense");
            var category = document.getElementById("cat");
            var comments = document.getElementById("comment");
            var MoT= document.getElementById("MoT");
            var table = document.getElementById("myTable");

            var rowCount = table.rows.length;
            var row = table.insertRow(rowCount);

            row.insertCell(0).innerHTML = "ERROR PLEASE REFRESH";
            row.insertCell(1).innerHTML = date.value;
            row.insertCell(2).innerHTML = time.value;
            row.insertCell(3).innerHTML = amount.value;
            row.insertCell(4).innerHTML = category.value;
            row.insertCell(5).innerHTML = MoT.value;
            row.insertCell(6).innerHTML = comments.value;
        }

    </script> -->

    <!-- Vendor JS Files -->
    <script src="/388"></script>
    <script src="/389"></script>
    <script src="/390"></script>
    <script src="/391"></script>
    <script src="/392"></script>
    <script src="/393"></script>

    <!-- Template Main JS File -->
    <script src="/396"></script>

</body>

</html>